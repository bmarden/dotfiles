# vim: syntax=gitconfig

[user]
  email = {{ .email }}
  name = Ben Marden
  {{- if .setup_1password }}
  signingKey = {{- (onepasswordDetailsFields "GitHub SSH Key").public_key.value }}
  {{- end }}
[commit]
  gpgsign = {{ if .setup_1password }}true{{ else }}false{{ end }}
[gpg]
  format = ssh
[gpg "ssh"]
  allowedSignersFile = ~/.config/git/allowed_signers
[core]
  editor = nvim
[diff]
  tool = nvim
[merge]
  tool = vscode
[mergetool "vscode"]
  cmd = code --wait $MERGED
[diff]
  tool = vscode
[difftool "vscode"]
  cmd = code --wait --diff $LOCAL $REMOTE
[pager]
  branch = false
  stash = false
[init]
  defaultBranch = main